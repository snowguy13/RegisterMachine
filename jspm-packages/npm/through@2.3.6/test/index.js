/* */
"format cjs";!function(e){function t(e,t){function n(){for(;e.length;)if(t.write(e.shift())===!1)return t.once("drain",n);t.end()}e=e.slice(),n()}function n(e,t){var n=[];e.on("data",function(e){n.push(e)}),e.once("end",function(){t(null,n)}),e.once("error",function(e){t(e)})}var r=require("tape"),u=require("stream-spec"),o=require("../index");r("simple defaults",function(e){for(var r=1e3,i=[];r--;)i.push(r*Math.random());var a=o(),s=u(a).through().pausable();n(a,function(t,n){e.ifError(t),e.deepEqual(n,i),e.end()}),a.on("close",s.validate),t(i,a)}),r("simple functions",function(e){for(var r=1e3,i=[];r--;)i.push(r*Math.random());var a=o(function(e){this.emit("data",2*e)}),s=u(a).through().pausable();n(a,function(t,n){e.ifError(t),e.deepEqual(n,i.map(function(e){return 2*e})),e.end()}),a.on("close",s.validate),t(i,a)}),r("pauses",function(r){for(var i=1e3,a=[];i--;)a.push(i);var s=o(),c=u(s).through().pausable();s.on("data",function(){Math.random()>.1||(s.pause(),e.nextTick(function(){s.resume()}))}),n(s,function(e,t){r.ifError(e),r.deepEqual(t,a)}),s.on("close",function(){c.validate(),r.end()}),t(a,s)})}(require("github:jspm/nodelibs@0.0.3/process"));
//# sourceMappingURL=index.js.map