/* */
"format cjs";!function(e){"use strict";function t(e){var t=e._owner||null;return t&&t.constructor&&t.constructor.displayName?" Check the render method of `"+t.constructor.displayName+"`.":""}function n(t,n,r){for(var o in n)n.hasOwnProperty(o)&&("production"!==e.env.NODE_ENV?w("function"==typeof n[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactCompositeComponent",R[r],o):w("function"==typeof n[o]))}function r(t,n){var r=L.hasOwnProperty(n)?L[n]:null;F.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?w(r===A.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n):w(r===A.OVERRIDE_BASE)),t.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?w(r===A.DEFINE_MANY||r===A.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):w(r===A.DEFINE_MANY||r===A.DEFINE_MANY_MERGED))}function o(t){var n=t._compositeLifeCycleState;"production"!==e.env.NODE_ENV?w(t.isMounted()||n===j.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."):w(t.isMounted()||n===j.MOUNTING),"production"!==e.env.NODE_ENV?w(null==d.current,"replaceState(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."):w(null==d.current),"production"!==e.env.NODE_ENV?w(n!==j.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component."):w(n!==j.UNMOUNTING)}function a(t,n){if(n){"production"!==e.env.NODE_ENV?w(!g.isValidFactory(n),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."):w(!g.isValidFactory(n)),"production"!==e.env.NODE_ENV?w(!f.isValidElement(n),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object."):w(!f.isValidElement(n));var o=t.prototype;n.hasOwnProperty(I)&&U.mixins(t,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==I){var i=n[a];if(r(o,a),U.hasOwnProperty(a))U[a](t,i);else{var s=L.hasOwnProperty(a),l=o.hasOwnProperty(a),p=i&&i.__reactDontBind,d="function"==typeof i,m=d&&!s&&!l&&!p;if(m)o.__reactAutoBindMap||(o.__reactAutoBindMap={}),o.__reactAutoBindMap[a]=i,o[a]=i;else if(l){var h=L[a];"production"!==e.env.NODE_ENV?w(s&&(h===A.DEFINE_MANY_MERGED||h===A.DEFINE_MANY),"ReactCompositeComponent: Unexpected spec policy %s for key %s when mixing in component specs.",h,a):w(s&&(h===A.DEFINE_MANY_MERGED||h===A.DEFINE_MANY)),h===A.DEFINE_MANY_MERGED?o[a]=u(o[a],i):h===A.DEFINE_MANY&&(o[a]=c(o[a],i))}else o[a]=i,"production"!==e.env.NODE_ENV&&"function"==typeof i&&n.displayName&&(o[a].displayName=n.displayName+"_"+a)}}}}function i(t,n){if(n)for(var r in n){var o=n[r];if(n.hasOwnProperty(r)){var a=r in U;"production"!==e.env.NODE_ENV?w(!a,'ReactCompositeComponent: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):w(!a);var i=r in t;"production"!==e.env.NODE_ENV?w(!i,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):w(!i),t[r]=o}}}function s(t,n){return"production"!==e.env.NODE_ENV?w(t&&n&&"object"==typeof t&&"object"==typeof n,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"):w(t&&n&&"object"==typeof t&&"object"==typeof n),D(n,function(n,r){"production"!==e.env.NODE_ENV?w(void 0===t[r],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):w(void 0===t[r]),t[r]=n}),t}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);return null==n?r:null==r?n:s(n,r)}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var l=require("./ReactComponent"),p=require("./ReactContext"),d=require("./ReactCurrentOwner"),f=require("./ReactElement"),m=require("./ReactElementValidator"),h=require("./ReactEmptyComponent"),v=require("./ReactErrorUtils"),g=require("./ReactLegacyElement"),y=require("./ReactOwner"),E=require("./ReactPerf"),C=require("./ReactPropTransferer"),b=require("./ReactPropTypeLocations"),R=require("./ReactPropTypeLocationNames"),x=require("./ReactUpdates"),M=require("./Object.assign"),S=require("./instantiateReactComponent"),w=require("./invariant"),_=require("./keyMirror"),O=require("./keyOf"),T=require("./monitorCodeUse"),D=require("./mapObject"),P=require("./shouldUpdateReactComponent"),N=require("./warning"),I=O({mixins:null}),A=_({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),k=[],L={mixins:A.DEFINE_MANY,statics:A.DEFINE_MANY,propTypes:A.DEFINE_MANY,contextTypes:A.DEFINE_MANY,childContextTypes:A.DEFINE_MANY,getDefaultProps:A.DEFINE_MANY_MERGED,getInitialState:A.DEFINE_MANY_MERGED,getChildContext:A.DEFINE_MANY_MERGED,render:A.DEFINE_ONCE,componentWillMount:A.DEFINE_MANY,componentDidMount:A.DEFINE_MANY,componentWillReceiveProps:A.DEFINE_MANY,shouldComponentUpdate:A.DEFINE_ONCE,componentWillUpdate:A.DEFINE_MANY,componentDidUpdate:A.DEFINE_MANY,componentWillUnmount:A.DEFINE_MANY,updateComponent:A.OVERRIDE_BASE},U={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)a(e,t[n])},childContextTypes:function(e,t){n(e,t,b.childContext),e.childContextTypes=M({},e.childContextTypes,t)},contextTypes:function(e,t){n(e,t,b.context),e.contextTypes=M({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?u(e.getDefaultProps,t):t},propTypes:function(e,t){n(e,t,b.prop),e.propTypes=M({},e.propTypes,t)},statics:function(e,t){i(e,t)}},j=_({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null}),F={construct:function(){l.Mixin.construct.apply(this,arguments),y.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return l.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==j.MOUNTING},mountComponent:E.measure("ReactCompositeComponent","mountComponent",function(t,n,r){l.Mixin.mountComponent.call(this,t,n,r),this._compositeLifeCycleState=j.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._currentElement._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,"production"!==e.env.NODE_ENV?w("object"==typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"):w("object"==typeof this.state&&!Array.isArray(this.state)),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=S(this._renderValidatedComponent(),this._currentElement.type),this._compositeLifeCycleState=null;var o=this._renderedComponent.mountComponent(t,n,r+1);return this.componentDidMount&&n.getReactMountReady().enqueue(this.componentDidMount,this),o}),unmountComponent:function(){this._compositeLifeCycleState=j.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,l.Mixin.unmountComponent.call(this)},setState:function(t,n){"production"!==e.env.NODE_ENV?w("object"==typeof t||null==t,"setState(...): takes an object of state variables to update."):w("object"==typeof t||null==t),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?N(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),this.replaceState(M({},this._pendingState||this.state,t),n)},replaceState:function(e,t){o(this),this._pendingState=e,this._compositeLifeCycleState!==j.MOUNTING&&x.enqueueUpdate(this,t)},_processContext:function(t){var n=null,r=this.constructor.contextTypes;if(r){n={};for(var o in r)n[o]=t[o];"production"!==e.env.NODE_ENV&&this._checkPropTypes(r,n,b.context)}return n},_processChildContext:function(t){var n=this.getChildContext&&this.getChildContext(),r=this.constructor.displayName||"ReactCompositeComponent";if(n){"production"!==e.env.NODE_ENV?w("object"==typeof this.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",r):w("object"==typeof this.constructor.childContextTypes),"production"!==e.env.NODE_ENV&&this._checkPropTypes(this.constructor.childContextTypes,n,b.childContext);for(var o in n)"production"!==e.env.NODE_ENV?w(o in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',r,o):w(o in this.constructor.childContextTypes);return M({},t,n)}return t},_processProps:function(t){if("production"!==e.env.NODE_ENV){var n=this.constructor.propTypes;n&&this._checkPropTypes(n,t,b.prop)}return t},_checkPropTypes:function(n,r,o){var a=this.constructor.displayName;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i](r,i,a,o);if(s instanceof Error){var u=t(this);"production"!==e.env.NODE_ENV?N(!1,s.message+u):null}}},performUpdateIfNecessary:function(t){var n=this._compositeLifeCycleState;if(n!==j.MOUNTING&&n!==j.RECEIVING_PROPS&&(null!=this._pendingElement||null!=this._pendingState||this._pendingForceUpdate)){var r=this.context,o=this.props,a=this._currentElement;null!=this._pendingElement&&(a=this._pendingElement,r=this._processContext(a._context),o=this._processProps(a.props),this._pendingElement=null,this._compositeLifeCycleState=j.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(o,r)),this._compositeLifeCycleState=null;var i=this._pendingState||this.state;this._pendingState=null;var s=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(o,i,r);"production"!==e.env.NODE_ENV&&"undefined"==typeof s&&console.warn((this.constructor.displayName||"ReactCompositeComponent")+".shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false."),s?(this._pendingForceUpdate=!1,this._performComponentUpdate(a,o,i,r,t)):(this._currentElement=a,this.props=o,this.state=i,this.context=r,this._owner=a._owner)}},_performComponentUpdate:function(e,t,n,r,o){var a=this._currentElement,i=this.props,s=this.state,u=this.context;this.componentWillUpdate&&this.componentWillUpdate(t,n,r),this._currentElement=e,this.props=t,this.state=n,this.context=r,this._owner=e._owner,this.updateComponent(o,a),this.componentDidUpdate&&o.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,i,s,u),this)},receiveComponent:function(e,t){(e!==this._currentElement||null==e._owner)&&l.Mixin.receiveComponent.call(this,e,t)},updateComponent:E.measure("ReactCompositeComponent","updateComponent",function(e,t){l.Mixin.updateComponent.call(this,e,t);var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(P(r,o))n.receiveComponent(o,e);else{var a=this._rootNodeID,i=n._rootNodeID;n.unmountComponent(),this._renderedComponent=S(o,this._currentElement.type);var s=this._renderedComponent.mountComponent(a,e,this._mountDepth+1);l.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(i,s)}}),forceUpdate:function(t){var n=this._compositeLifeCycleState;"production"!==e.env.NODE_ENV?w(this.isMounted()||n===j.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."):w(this.isMounted()||n===j.MOUNTING),"production"!==e.env.NODE_ENV?w(n!==j.UNMOUNTING&&null==d.current,"forceUpdate(...): Cannot force an update while unmounting component or within a `render` function."):w(n!==j.UNMOUNTING&&null==d.current),this._pendingForceUpdate=!0,x.enqueueUpdate(this,t)},_renderValidatedComponent:E.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var t,n=p.current;p.current=this._processChildContext(this._currentElement._context),d.current=this;try{t=this.render(),null===t||t===!1?(t=h.getEmptyComponent(),h.registerNullComponentID(this._rootNodeID)):h.deregisterNullComponentID(this._rootNodeID)}finally{p.current=n,d.current=null}return"production"!==e.env.NODE_ENV?w(f.isValidElement(t),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"):w(f.isValidElement(t)),t}),_bindAutoBindMethods:function(){for(var e in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(e)){var t=this.__reactAutoBindMap[e];this[e]=this._bindAutoBindMethod(v.guard(t,this.constructor.displayName+"."+e))}},_bindAutoBindMethod:function(t){var n=this,r=t.bind(n);if("production"!==e.env.NODE_ENV){r.__reactBoundContext=n,r.__reactBoundMethod=t,r.__reactBoundArguments=null;var o=n.constructor.displayName,a=r.bind;r.bind=function(e){for(var i=[],s=1,u=arguments.length;u>s;s++)i.push(arguments[s]);if(e!==n&&null!==e)T("react_bind_warning",{component:o}),console.warn("bind(): React component methods may only be bound to the component instance. See "+o);else if(!i.length)return T("react_bind_warning",{component:o}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+o),r;var c=a.apply(r,arguments);return c.__reactBoundContext=n,c.__reactBoundMethod=t,c.__reactBoundArguments=i,c}}return r}},B=function(){};M(B.prototype,l.Mixin,y.Mixin,C.Mixin,F);var V={LifeCycle:j,Base:B,createClass:function(t){var n=function(){};n.prototype=new B,n.prototype.constructor=n,k.forEach(a.bind(null,n)),a(n,t),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==e.env.NODE_ENV?w(n.prototype.render,"createClass(...): Class specification must implement a `render` method."):w(n.prototype.render),"production"!==e.env.NODE_ENV&&n.prototype.componentShouldUpdate&&(T("react_component_should_update_warning",{component:t.displayName}),console.warn((t.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value."));for(var r in L)n.prototype[r]||(n.prototype[r]=null);return g.wrapFactory("production"!==e.env.NODE_ENV?m.createFactory(n):f.createFactory(n))},injection:{injectMixin:function(e){k.push(e)}}};module.exports=V}(require("github:jspm/nodelibs@0.0.3/process"));
//# sourceMappingURL=ReactCompositeComponent.js.map